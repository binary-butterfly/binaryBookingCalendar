!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("BinaryBookingCalendar",["react"],t):"object"==typeof exports?exports.BinaryBookingCalendar=t(require("react")):e.BinaryBookingCalendar=t(e.react)}(this,(function(e){return(()=>{var t={764:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".calendar{display:flex;flex-wrap:wrap;flex-direction:row;width:100%;box-sizing:border-box;justify-content:space-around}.calendar-week{width:100%;flex-shrink:0;display:flex;justify-content:space-around;padding-bottom:1%}.calendar-date,.calendar-week-day{flex-shrink:0;width:13.5%;min-height:3rem;text-align:center;border-radius:.5rem;background-color:inherit}.calendar-date[data-today=true]>span:first-child{font-weight:bold;text-decoration:underline;color:blue;text-shadow:0 0 9px blue}.calendar-date[data-available=false][data-today=true]>span:first-child{color:#ffd4ff;text-shadow:0 0 9px #ffd4ff}.calendar-date[aria-disabled=true]{color:#6d6d6d;font-weight:initial;cursor:not-allowed}.calendar-date[data-available=false]{background-color:#c00;cursor:not-allowed;color:#fff}.calendar-date[data-available=false][data-disabled=true]{background-color:#a82424;color:#f5f5f5}.calendar-date[data-partial=top] span,.calendar-date[data-partial=bottom] span{background-color:#00000090;border-radius:2px;color:#fff}.calendar-date[data-partial=top]{background:linear-gradient(#cc0000 50%, #ff00ff00 50%)}.calendar-date[data-partial=top][data-active=true],.calendar-date[data-partial=top]:hover{background:linear-gradient(#cc0000 50%, #40b93c60 50%)}.calendar-date[data-partial=bottom]{background:linear-gradient(#ff00ff00 50%, #cc0000 50%)}.calendar-date[data-partial=bottom][data-active=true],.calendar-date[data-partial=bottom]:hover{background:linear-gradient(#40b93c60 50%, #cc0000 50%)}.calendar-date[data-partial=switch]{background:linear-gradient(to bottom, #ff00ff00, #ff00ff00 25%, #cc0000 25%, #cc0000 75%, #ff00ff00 75%);color:#fff}.calendar-date[data-partial=switch][data-part-available=top]:hover,.calendar-date[data-partial=switch][data-part-active=top][data-active=true]{background:linear-gradient(to bottom, #40b93c60, #40b93c60 25%, #cc0000 25%, #cc0000 75%, #ff00ff00 75%)}.calendar-date[data-partial=switch][data-part-available=bottom]:hover,.calendar-date[data-partial=switch][data-part-active=bottom][data-active=true]{background:linear-gradient(to bottom, #f0f0f000, #f0f0f000 25%, #cc0000 25%, #cc0000 75%, #40b93c60 75%)}.calendar-date[data-partial=switch][data-active=top]{background:linear-gradient(#40b93c60 25%, #cc0000 50%, #ff00ff00 25%)}.calendar-date[data-partial=switch][data-active=bottom]{background:linear-gradient(#ff00ff00 25%, #cc0000 50%, #40b93c60 25%)}.calendar-date:not([aria-disabled=true]:not([data-active=true])):hover,.calendar-date[data-active=true]{background-color:#40b93c60;cursor:pointer}.calendar-date[data-disabled=true]:not[data-active=true],.calendar-date[aria-disabled=true]:not[data-active=true]:hover{background-color:#d3d3d3;cursor:not-allowed}.calendar-date-tooltip,.calendar-date:hover .calendar-date-tooltip:empty,.calendar-date:focus .calendar-date-tooltip:empty{display:none}.calendar-date:hover .calendar-date-tooltip,.calendar-date:focus .calendar-date-tooltip{display:block;position:absolute;background-color:#6d6d6d;color:#fff;border-radius:0 1rem 1rem 1rem;padding:.5rem;z-index:1000}.calendar-date-tooltip p{margin:0;text-align:left}.calendar-date-tooltip h4{color:inherit;margin-top:.5rem;font-size:1rem}.calendar-date-tooltip ul{text-align:left}.calendar-date-dot{margin-bottom:0;font-size:.5em}.calendar-heading-row{display:flex;align-content:center;width:100%;margin-bottom:.5rem}.calendar-heading-row h3{margin-left:auto;margin-right:auto}.calendar-change-month-button{cursor:pointer;height:100%;background-color:inherit;border-radius:.5rem}.calendar-change-month-button[disabled=true]{cursor:not-allowed}.calendar-change-month-button[disabled=true]:hover{background-color:initial}.calendar-last-month-button{align-self:flex-start;margin-right:auto}.calendar-next-month-button{align-self:flex-end;margin-left:auto}.calendar-view-change-meta-label{display:block;padding-bottom:.5rem}.calendar-header{display:flex;flex-wrap:wrap}.calendar-header span{width:100%}.calendar-view-radio{position:fixed;opacity:0;pointer-events:none}.calendar-view-radio+label{padding:.5rem;border:1px solid;border-radius:.25rem;cursor:pointer;text-align:center;min-width:30%;flex-grow:1}.calendar-view-radio:checked+label{background-color:#247540;box-shadow:2px 2px 2px #247540;border-color:#247540;color:#e5e5e5;text-decoration:underline}.calendar-view-radio:focus+label{box-shadow:3px 3px 3px #247540}.calendar-meta-display{padding:.25rem;border-radius:.25rem;border:1px solid}.calendar-meta-display:empty{visibility:hidden}.calendar-error-display:empty{display:none}.calendar-error-display{border-color:#c00;color:#c00}.calendar-warning-display{border-color:#995c00;color:#995c00}.calendar-date-input-warning{color:#995c00}input[type=number].calendar-numeric-input,select.calendar-numeric-input{border-radius:.25rem;height:2rem;font-size:1.25rem;width:100%;background-color:inherit;border:1px solid #b5b5b5;box-shadow:none}.calendar-numeric-input:invalid{border:1px solid #c00}.calendar-asap-booking-button{margin-right:1rem;margin-bottom:1rem;min-width:22%}.calendar-booking-container{display:flex;flex-wrap:wrap}.calendar-booking-container h4{width:100%}.calendar-booking-date-input,.calendar-booking-time-input{width:32%;margin-right:1%}.calendar-booking-date-input label,.calendar-booking-time-input label{width:100%;display:inline-block}.calendar-booking-time-row{width:100%;display:flex;align-content:flex-start;flex-wrap:wrap}.calendar-booking-date-input input,.calendar-booking-time-input input{max-width:100%}.calendar-booking-date-input,.calendar-booking-time-input{width:32%;margin-right:1%}@media(max-width: 1000px){.calendar-booking-date-input,.calendar-booking-time-input{width:45%;margin-right:2.5%}.calendar-date,.calendar-week-day{font-size:.8rem}.calendar-heading-row h3{font-size:1.2rem;padding-top:.5rem}}@media(max-width: 500px){.calendar-date,.calendar-week-day{font-size:.6rem}.calendar-heading-row h3{font-size:1rem}}@media(min-width: 950px){.calendar-container{display:flex;flex-wrap:wrap}.calendar-date-container{width:70%}.calendar-time-container{width:30%;padding-top:10%;padding-left:1rem}.calendar-time-container button:not(.calendar-stepper-button){width:100%}}.calendar-stepper-container{font-size:2rem;line-height:2.5rem;width:100%}.calendar-stepper-button{height:2.5rem;padding:.25rem}.calendar-change-time-button{font-size:.8rem;margin-bottom:.5rem;padding:.2rem}.calendar-submit-button{margin-top:1rem}.calendar-stepper{width:100%;display:flex;justify-content:space-between;margin-bottom:.25rem}",""]);const i=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);a&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},703:(e,t,n)=>{"use strict";var a=n(414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},695:e=>{"use strict";var t={};e.exports=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var i={},o=[],l=0;l<e.length;l++){var u=e[l],c=a.base?u[0]+a.base:u[0],d=i[c]||0,s="".concat(c," ").concat(d);i[c]=d+1;var g=n(s),m={css:u[1],media:u[2],sourceMap:u[3]};-1!==g?(t[g].references++,t[g].updater(m)):t.push({identifier:s,updater:r(m,a),references:1}),o.push(s)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=a(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var l=n(i[o]);t[l].references--}for(var u=a(e,r),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=u}}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a=n.css,r=n.media,i=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},297:t=>{"use strict";t.exports=e}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";a.r(r),a.d(r,{default:()=>Me});var e=a(297),t=a.n(e),n=a(379),i=a.n(n),o=a(795),l=a.n(o),u=a(695),c=a.n(u),d=a(216),s=a.n(d),g=a(764),m={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=a.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=c()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};m.domAPI=l(),m.insertStyleElement=s(),i()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var f=a(697),b=a.n(f);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(e,t){var n=e.getFullYear(),a=t.getFullYear();if(n===a){var r=e.getMonth(),i=t.getMonth();return r===i?0:r>i?1:-1}return n>a?1:-1},y=function(e,t){var n=v(e,t);if(0!==n)return n;var a=e.getDate(),r=t.getDate();return a>r?1:a<r?-1:0},k=function(e,t){return e*=1,t.attributes.min.value<=e&&e<=t.attributes.max.value},E=function(e,t,n){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate());n&&0===t.getHours()&&0===t.getMinutes()&&a.setDate(a.getDate()+1);var r=new Date(t.getFullYear(),t.getMonth(),t.getDate())-a;return Math.ceil(r/864e5)},w=function(e,t,n){return e[t]||(e[t]=[]),e[t].bookings||(e[t].bookings=[]),e[t].bookings.push(n),e},D=function(e,t){var n={available:!0},a=t[e.toDateString()];if(a&&a.bookings){var r,i;n.bookings=a.bookings;var o,l=p(n.bookings);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!u.partial){n.available=!1;break}n.partial=!0,(!r||u.begin<r)&&(r=u.begin),(!i||u.end>i)&&(i=u.end)}}catch(e){l.e(e)}finally{l.f()}n.earliest=r,n.last=i}return n},S=function(e,t,n){var a,r,i,o,l={active:!1,partial:""};if(t&&n&&(a=t,r=n,i=e,(o=new Date(i)).setDate(o.getDate()+1),a<o&&r>i)){l.active=!0;var u=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=new Date(n.getFullYear(),n.getMonth(),n.getDate()),d=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();u.getTime()===d&&t.getHours()>0&&(l.from=t,l.partial="bottom"),c.getTime()===d&&n.getHours()<23&&(l.until=n,l.partial="bottom"===l.partial?"switch":"top")}return l},B=function(e,t,n,a,r){for(var i=!1,o=D(e,t);!o.available&&e>a&&e<r;)e=new Date(e.getTime()+n),o=D(e,t),i=!0;if(e<a||e>r)throw"RangeImpossible";return o.partial&&(n>0?o.earliest>e&&(e=o.earliest,i=!0):o.last<e&&(e=o.last,i=!0)),[i,e]},x=function(e,t,n,a,r){for(var i=!1,o=e,l=new Date(e.getTime()),u=l.getTime(),c=D(new Date(l),t),d=!0;c.available&&(y(l,a)>0&&y(r,l)>0&&!c.partial||d);)d=!1,u=l.getTime(),l.setTime(l.getTime()+n),c=D(l,t);return c.available?c.partial&&(o=n>0?c.earliest:c.last,i=!0):(o=new Date(u),i=!0),[i,o]},M=function(e){var t=new Date(e.getTime());return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},T=function(e){var t=new Date(e.getTime());return t.setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(999),t},A=function(e,t){return I(e+15*t)},R=function(e){var t=e.getMinutes();if(59===t&&23===e.getHours())return e;var n=I(t),a=new Date(e);return a.setMinutes(n),a},I=function(e){59===e&&e++;var t=(e>=60?e-60:e)%15;return t>0&&(t>6?e=e-t+15:e-=t),e},j=function(e){var t=e.getMinutes();59===t&&t++,t-=t%15;var n=new Date(e);return n.setMinutes(t),n},F=function(e){var n=e.available,a=e.whichTime;return n.available?t().createElement(t().Fragment,null,t().createElement("p",{className:"calendar-date-dot"},n.partial&&n.bookings?t().createElement(t().Fragment,null,"⚫"):t().createElement(t().Fragment,null," ")),t().createElement("div",{className:"calendar-date-tooltip"},!e.hideAction&&t().createElement(t().Fragment,null,"Delete"===a[0]?t().createElement("p",null,"Auswahl löschen"):t().createElement("p",null,a[0],"zeitpunkt",a[1]?t().createElement(t().Fragment,null," entfernen"):t().createElement(t().Fragment,null," setzen"))),n.partial&&n.bookings&&t().createElement(t().Fragment,null,t().createElement("h4",null,"An diesem Tag bestehen bereits folgende Buchungen:"),t().createElement("ul",null,n.bookings.map((function(e,n){return t().createElement("li",{key:n},e.begin?e.begin.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):"Anfang des Tages"," -",e.end?e.end.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):"Ende des Tages")})))))):t().createElement(t().Fragment,null,t().createElement("p",{className:"calendar-date-dot"}," "),t().createElement("span",{className:"calendar-date-tooltip"},"Dieser Tag ist leider ausgebucht."))};F.propTypes={available:b().object.isRequired,whichTime:b().array.isRequired,hideAction:b().bool.isRequired};const q=F;function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var O=function(e){var n=e.date,a=e.available,r=e.active,i=N(t().useState(!1),2),o=i[0],l=i[1],u=N(t().useState(["Start",!1]),2),c=u[0],d=u[1],s=N(t().useState(!1),2),g=s[0],m=s[1];t().useEffect((function(){d(b())}),[e.bookingBegin,e.bookingEnd]);var f=t().useRef(null),b=function(){if(!e.bookingBegin)return["Start",!1];if(!e.bookingEnd)return["End",!1];if(0===y(e.bookingBegin,e.bookingEnd)&&r.active)return["Delete",null];var t=E(e.bookingBegin,n);if(0===t)return["Start",!0];var a=E(n,e.bookingEnd,!0);return 0===a?["End",!0]:t>a?["End",!1]:t<a?["Start",!1]:["begin"===e.lastSet?"Start":"End",!1]},p=function(){var t,i,o,l,u;!e.disabled&&a.available&&(r.active?"Delete"===c[0]?(e.setBookingBegin(null),e.setBookingEnd(null)):"Start"===c[0]?c[1]?e.setBookingBegin(M(e.bookingEnd)):e.setBookingBegin(n):c[1]?e.setBookingEnd(T(e.bookingBegin)):e.setBookingEnd(n):(o=e.bookingBegin,l=e.bookingEnd,u=T(n),(!e.bookingBegin||y(n,e.bookingBegin)<0)&&(o=(null!==(t=a.last)&&void 0!==t?t:e.isToday)?e.today:n),(!e.bookingEnd||y(u,e.bookingEnd)>0)&&(l=a.earliest&&o>a.earliest?o:null!==(i=a.earliest)&&void 0!==i?i:u),o!==e.bookingBegin&&l!==e.bookingEnd?e.setBookingBeginAndEnd(o,l):o!==e.bookingBegin?e.setBookingBegin(o):l!==e.bookingEnd&&e.setBookingEnd(l)))};return t().createElement("button",{className:"calendar-date",onClick:p,"data-available":a.available,"aria-disabled":e.disabled||e.maxReached||!a.available,"aria-label":n.toLocaleDateString(),"data-part-available":e.available.partial,"data-active":r.active,"data-disabled":e.disabled,"aria-checked":r.active,role:"checkbox","data-part-active":r.partial,onMouseDown:function(){e.setDragging(!0),l(!0)},onMouseUp:function(){l(!1)},onMouseLeave:function(t){m(!0),o&&e.dragging&&(p(),l(!1))},onMouseEnter:function(t){m(!1),e.dragging&&(p(),f.current.focus())},ref:f,"data-today":e.isToday,onFocus:function(){return m(!1)}},t().createElement("span",null,n.getDate()),!e.disabled&&t().createElement(q,{available:a,whichTime:c,hideAction:g})||t().createElement("p",{className:"calendar-date-dot"}," "))};O.propTypes={active:b().object.isRequired,available:b().object.isRequired,disabled:b().bool.isRequired,isToday:b().bool.isRequired,today:b().object.isRequired,setDragging:b().func.isRequired,dragging:b().bool.isRequired,bookingBegin:b().object,bookingEnd:b().object,setBookingBegin:b().func.isRequired,setBookingEnd:b().func.isRequired,setBookingBeginAndEnd:b().func.isRequired};const H=O;var P={begin:b().string.isRequired,end:b().string.isRequired},Y={begin:b().object.isRequired,end:b().object.isRequired};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Z=function(e){var n,a=e.today,r=U(t().useState(null!==(n=e.initialCurrent)&&void 0!==n?n:new Date),2),i=r[0],o=r[1],l=U(t().useState(null),2),u=l[0],c=l[1],d=U(t().useState(null),2),s=d[0],g=d[1],m=U(t().useState(null),2),f=m[0],b=m[1],p=U(t().useState(null),2),h=p[0],y=p[1],k=U(t().useState(!1),2),E=k[0],w=k[1],B=U(t().useState([]),2),x=B[0],M=B[1];t().useEffect((function(){e.initialCurrent&&o(e.initialCurrent)}),[e.initialCurrent]),t().useEffect((function(){var n=i.getFullYear(),r=i.getMonth(),o=i.getDate();g(n),b(r),y(new Date(n,r+1,0).getDate());var l=v(i,a);M(function(e,n,a,r,i,o,l,u,c,d,s,g,m,f){for(var b=new Date(e,n+1,0).getDate(),p=new Date(e,n,1).getDay(),h=new Date(e,n,0),v=h.getDate(),y=h.getDay(),k=function(e){return e<y?v-(y-e):v},E=function(e){return 0===r?e<a:-1===r},w=[],B=0,x=0;x<b;){for(var M=[],T=0;T<7;T++){var A=void 0;0===B&&T<p?A=new Date(e,n-1,k(T)):(x++,A=new Date(e,n,x));var R=D(A,i),I=S(A,o,l);M.push(t().createElement(H,{date:A,disabled:E(x),available:R,active:I,today:f,isToday:0===r&&a===x,dragging:u,setDragging:c,lastSet:d,setBookingBegin:s,setBookingEnd:g,bookingBegin:o,bookingEnd:l,setBookingBeginAndEnd:m}))}B++,w.push(M)}return w}(n,r,o,l,e.unavailableDates,e.bookingBegin,e.bookingEnd,E,w,e.lastSet,e.setBookingBegin,e.setBookingEnd,e.setBookingBeginAndEnd,e.today)),c(l)}),[i,e.unavailableDates,e.bookingBegin,e.bookingEnd]);var T=function(t,n){e.handleMonthSwitch?e.handleMonthSwitch(n):(0===v(t,a)&&(t=new Date),o(t))};return t().createElement("div",{className:"calendar",onMouseLeave:function(){return w(!1)},onMouseUp:function(){return w(!1)}},t().createElement("div",{className:"calendar-heading-row"},t().createElement("button",{disabled:e.disableBack||!e.allowPast&&1!==u,"aria-label":"Zum vorherigen Monat springen",className:"calendar-change-month-button calendar-last-month-button",onClick:function(){(e.allowPast||1===u)&&T(new Date(s,f,0),!0)}},"‹"),t().createElement("h3",null,i.toLocaleDateString("de-DE",{year:"numeric",month:"long"})),t().createElement("button",{"aria-label":"Zum nächsten Monat springen",onClick:function(){T(new Date(s,f,h+1),!1)},className:"calendar-change-month-button calendar-next-month-button"},"›")),t().createElement("div",{className:"calendar-week"},["So","Mo","Di","Mi","Do","Fr","Sa"].map((function(e){return t().createElement("div",{key:"calendarWeekDay"+e,className:"calendar-week-day"},e)}))),x.map((function(e,n){return t().createElement("div",{className:"calendar-week",key:"calendarWeek"+n},e.map((function(e,a){return t().createElement(t().Fragment,{key:"calendarWeek"+n+"Day"+a},e)})),t().createElement("br",null))})))},W={bookings:b().arrayOf(b().shape(Y)).isRequired,unavailableDates:b().object,maxReached:b().bool.isRequired,today:b().object.isRequired,lastSet:b().oneOf(["begin","end"]).isRequired,bookingBegin:b().object,bookingEnd:b().object,setBookingBegin:b().func.isRequired,setBookingEnd:b().func.isRequired,setBookingBeginAndEnd:b().func.isRequired,handleMonthSwitch:b().func,initialCurrent:b().object,allowPast:b().bool};Z.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disableBack:b().bool},W);const $=Z;function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=function(e){for(var n,a=e.today,r=V(t().useState(null!==(n=e.initialCurrent)&&void 0!==n?n:new Date),2),i=r[0],o=r[1],l=V(t().useState(v(i,a)),2),u=l[0],c=l[1],d=function(e){var t;(t=e?new Date(i.getFullYear(),i.getMonth(),0):new Date(i.getFullYear(),i.getMonth()+1,1)).getMonth()===a.getMonth()?(t.setDate(a.getDate()),c(0)):c(v(t,a)),o(t)},s=[],g=i,m=0;m<e.monthCount;m++)s.push(t().createElement($,{handleMonthSwitch:d,bookings:e.bookings,bookingBegin:e.bookingBegin,bookingEnd:e.bookingEnd,allowPast:e.allowPast,maxReached:e.maxReached,initialCurrent:g,today:a,unavailableDates:e.unavailableDates,disableBack:!e.allowPast&&u<1,setBookingBegin:e.setBookingBegin,setBookingEnd:e.setBookingEnd,lastSet:e.lastSet,setBookingBeginAndEnd:e.setBookingBeginAndEnd})),g=new Date(g.getFullYear(),g.getMonth()+1,1);return t().createElement(t().Fragment,null,s.map((function(e,n){return t().createElement(t().Fragment,{key:"multiMonthMonth"+n},e)})))};G.propTypes=W;const K=G;var Q=function(e){return t().createElement("p",{className:"calendar-date-input-warning","aria-live":"polite","aria-relevant":"additions"},e.show&&t().createElement("small",null,"Bitte geben Sie eine Zahl zwischen ",e.min," und ",e.max," ein."))};Q.propTypes={min:b().number,max:b().number,show:b().bool.isRequired};const X=Q;function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ne=function(e){var n,a=ee(t().useState(!0),2),r=a[0],i=a[1],o=ee(t().useState(!0),2),l=o[0],u=o[1],c=ee(t().useState(!0),2),d=c[0],s=c[1],g=new Date,m=null!==(n=e.date)&&void 0!==n?n:g,f=e.minDate?e.minDate.getFullYear():e.pastAllowed?g.getFullYear()-1:g.getFullYear(),b=ee(t().useState(m.getFullYear()),2),p=b[0],h=b[1],v=ee(t().useState(m.getMonth()+1),2),y=v[0],E=v[1],w=ee(t().useState(m.getDate()),2),D=w[0],S=w[1],B=ee(t().useState(!1),2),x=B[0],M=B[1];t().useEffect((function(){e.date&&(h(e.date.getFullYear()),E(e.date.getMonth()+1),S(e.date.getDate())),i(!0),u(!0),s(!0),M(!1)}),[e.date]);var T=function(t,n,a){return e.minDate?new Date(t,n-1,a,e.minDate.getHours(),e.minDate.getMinutes(),e.minDate.getSeconds(),e.minDate.getMilliseconds()):new Date(t,n-1,a)},A=function(t){return e.minDate&&t<e.minDate?e.minDate.getMonth()===t.getMonth()&&(e.setDate(e.minDate),!0):!(e.maxDate&&t>e.maxDate||(e.setDate(t),M(!1),0))},R=e.minDate&&e.minDate.getFullYear()===p,I=R&&e.minDate.getMonth()+1===y,j=e.maxDate&&e.maxDate.getFullYear()===p,F=j&&e.maxDate.getMonth()+1===y,q=function(){return I?e.minDate.getDate():1},N=function(){return F?e.maxDate.getDate():function(e,t){return new Date(e,t+1,0).getDate()}(p,y-1)},C=function(){return R?e.minDate.getMonth()+1:1},O=function(){return j?e.maxDate.getMonth():12},H=function(){return e.maxDate?e.maxDate.getFullYear():f+2};return t().createElement(t().Fragment,null,t().createElement("div",{className:"calendar-booking-date-input"},t().createElement("label",{htmlFor:e.dayId},"Tag"),t().createElement("input",{type:"number",id:e.dayId,min:q(),max:N(),value:e.date||x?D:"",onChange:function(e){var t=e.target.value;k(t,e.target)?s(A(T(p,y,t))):(M(!0),S(t),s(!1))},className:"calendar-numeric-input"}),t().createElement(X,{min:q(),max:N(),show:!d})),t().createElement("div",{className:"calendar-booking-date-input"},t().createElement("label",{htmlFor:e.monthId},"Monat"),t().createElement("input",{type:"number",id:e.monthId,min:C(),max:O(),value:e.date||x?y:"",onChange:function(e){var t=e.target.value;k(t,e.target)?u(A(T(p,t,D))):(M(!0),E(t),u(!1))},className:"calendar-numeric-input"}),t().createElement(X,{min:C(),max:O(),show:!l})),t().createElement("div",{className:"calendar-booking-date-input"},t().createElement("label",{htmlFor:e.yearId},"Jahr"),t().createElement("input",{type:"number",id:e.yearId,min:f,max:H(),value:e.date||x?p:"",onChange:function(e){var t=e.target.value;k(t,e.target)?i(A(T(t,y,D))):(M(!0),h(t),i(!1))},className:"calendar-numeric-input"}),t().createElement(X,{min:f,max:H(),show:!r})))};ne.propTypes={minDate:b().object,maxDate:b().object,date:b().object,setDate:b().func.isRequired,yearId:b().string.isRequired,monthId:b().string.isRequired,dayId:b().string.isRequired,pastAllowed:b().bool};const ae=ne;function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var oe=function(e){var n,a,r=re(t().useState(e.hour),2),i=r[0],o=r[1],l=re(t().useState(e.minute),2),u=l[0],c=l[1],d=re(t().useState(!1),2),s=d[0],g=d[1],m=re(t().useState(-1),2),f=m[0],b=m[1],p=re(t().useState(61),2),h=p[0],v=p[1],y=re(t().useState(!0),2),k=y[0],E=y[1],w=re(t().useState(!0),2),D=w[0],S=w[1];t().useEffect((function(){59===e.minute&&23===e.hour?(o(24),c(0),g(!0)):(c(e.minute),o(e.hour),g(!1)),b(B(i)),v(x()),E(!0),S(!0)}),[e.minute,e.hour]),t().useEffect((function(){v(x()),b(B())}),[e.minHour,e.minMinute]);var B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.hour;return e.minHour&&t===e.minHour?e.minMinute:-1},x=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.hour;return e.maxHour&&n===e.maxHour?null!==(t=e.maxMinute)&&void 0!==t?t:59:61};return t().createElement("div",{className:"calendar-booking-time-row"},t().createElement("div",{className:"calendar-booking-time-input"},t().createElement("label",{htmlFor:e.hourId},"Stunde"),t().createElement("select",{id:e.hourId,value:null!=i?i:void 0,onChange:function(t){var n=1*t.target.value;24===n?(g(!0),e.setHour(23),e.setMinute(59)):(g(!1),e.setHour(n)),o(n)},className:"calendar-numeric-input"},[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(n){if((!e.minHour||n>=e.minHour)&&(!e.maxHour||n<=e.maxHour))return t().createElement("option",{value:n,key:e.hourId+n},n)}))),t().createElement(X,{min:null!==(n=e.minHour)&&void 0!==n?n:0,max:null!==(a=e.maxHour)&&void 0!==a?a:23,show:!k})),t().createElement("div",{className:"calendar-booking-time-input"},t().createElement("label",{htmlFor:e.minuteId},"Minute"),s?t().createElement("select",{id:e.minuteId,value:null!=u?u:void 0,className:"calendar-numeric-input"},t().createElement("option",{value:0},"00")):t().createElement("select",{id:e.minuteId,onChange:function(t){var n=1*t.target.value;c(n),e.setMinute(n)},value:null!=u?u:void 0,className:"calendar-numeric-input"},["00","15","30","45"].map((function(n){return t().createElement("option",{disabled:n<f||n>h,key:e.minuteId+n,value:1*n},n)}))),t().createElement(X,{min:B(),max:x(),show:!D})))};oe.propTypes={hourId:b().string.isRequired,minuteId:b().string.isRequired,hour:b().number,setHour:b().func.isRequired,minute:b().number,setMinute:b().func.isRequired,minHour:b().number,minMinute:b().number,maxHour:b().number,maxMinute:b().number};const le=oe;var ue=function(e){var t=e.amount;"number"==typeof t&&(t=t.toString());var n=t.split(".");if(n.length>1){var a=n[1];a.length>2?a=a.substr(0,2):1===a.length&&(a+="0"),t=n[0]+","+a}else t=t.replace(".",",");return t+" €"};ue.propTypes={amount:b().oneOfType([b().number,b().string])};const ce=ue;var de=function(e){return t().createElement("span",{className:"calendar-stepper"},t().createElement("button",{"aria-label":e.previousLabel,className:"button calendar-stepper-button",type:"button",onClick:e.previousDisabled?void 0:e.handlePrev,disabled:e.previousDisabled},"‹"),e.children,t().createElement("button",{"aria-label":e.nextLabel,className:"button calendar-stepper-button",type:"button",onClick:e.handleNext},"›"))};de.propTypes={children:b().element.isRequired,handlePrev:b().func.isRequired,handleNext:b().func.isRequired,previousLabel:b().string.isRequired,nextLabel:b().string.isRequired,previousDisabled:b().bool};var se=function(e){var n=e.current.toLocaleString("de-DE",{timeStyle:"short"});return"23:59"===n&&(n="24:00"),t().createElement("div",{className:"calendar-stepper-container"},t().createElement(de,{handlePrev:e.handlePreviousDate,handleNext:e.handleNextDate,previousLabel:"Einen Tag früher",nextLabel:"Einen Tag später",previousDisabled:e.previousDateDisabled},t().createElement("span",null,e.current.toLocaleString("de-DE",{dateStyle:"short"}))),t().createElement(de,{handlePrev:e.handlePreviousTime,handleNext:e.handleNextTime,previousDisabled:e.previousTimeDisabled,previousLabel:"15 Minuten früher",nextLabel:"15 Minuten später"},t().createElement("span",null,n," Uhr")))};se.propTypes={current:b().object.isRequired,handleNextDate:b().func.isRequired,handlePreviousDate:b().func.isRequired,handleNextTime:b().func.isRequired,handlePreviousTime:b().func.isRequired,previousDateDisabled:b().bool,previousTimeDisabled:b().bool};const ge=se;function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var be=function(e){var n,a=me(t().useState(),2),r=a[0],i=a[1],o=me(t().useState(),2),l=o[0],u=o[1],c=me(t().useState(null),2),d=c[0],s=c[1],g=me(t().useState(null),2),m=g[0],f=g[1],b=me(t().useState(null),2),p=b[0],h=b[1],v=me(t().useState(null),2),k=v[0],E=v[1],w=me(t().useState(!1),2),D=w[0],S=w[1],B=me(t().useState(!1),2),x=B[0],R=B[1],I=me(t().useState(!1),2),j=I[0],F=I[1],q=me(t().useState(!1),2),N=q[0],C=q[1],O=me(t().useState(!1),2),H=O[0],P=O[1],Y=me(t().useState(null),2),L=Y[0],z=Y[1],U=me(t().useState(0),2),_=U[0],Z=U[1],W=me(t().useState(),2),$=W[0],V=W[1],J=e.beginSame,G=e.setBeginSame,K=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.bookingBegin;G(t),R(t&&e.today.getHours()===n.getHours()&&e.today.getMinutes()>=n.getMinutes())},Q=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.bookingBegin,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.bookingEnd;S(t),F(n&&t&&a.getHours()===r.getHours()&&a.getMinutes()>=r.getMinutes())},X=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||te(t,null!=l?l:e.bookingEnd),i(t)},ee=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||te(null!=r?r:e.bookingBegin,t),u(t)},te=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.bookingBegin,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.bookingEnd,a=t&&0===y(t,e.today),r=t&&n&&0===y(n,t);K(a,t),Q(r,a,t,n)},ne=function(e){K(e),Q(e)},re=function(t){e.bookingEnd&&t>e.bookingEnd?e.setBookingBeginAndEnd(t,T(t)):t<e.today?e.setBookingBegin(e.today,!1,!0):e.setBookingBegin(t,!1,!0)},ie=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.bookingBegin&&t<e.bookingBegin?n?e.setBookingEnd(e.bookingBegin):M(t)<e.today?e.setBookingBeginAndEnd(e.today(),T(e.today)):e.setBookingBeginAndEnd(M(t),t):(0===t.getHours()&&0===t.getMinutes()&&t.setMinutes(-1),e.setBookingEnd(t,!0))},oe=function(t){re(new Date(e.bookingBegin.getTime()+864e5*t))},ue=function(t){var n=A(e.bookingBegin.getMinutes(),t),a=new Date(e.bookingBegin);a.setMinutes(n),re(a)},de=function(t){ie(new Date(e.bookingEnd.getTime()+864e5*t))},se=function(t){var n=A(e.bookingEnd.getMinutes(),t),a=new Date(e.bookingEnd);a.setMinutes(n),ie(a,!0)};t().useEffect((function(){e.bookingBegin?(f(e.bookingBegin.getMinutes()),s(e.bookingBegin.getHours()),te()):(f(null),s(null),ne(!1)),X(e.bookingBegin,!0)}),[e.bookingBegin]),t().useEffect((function(){e.bookingEnd?(E(e.bookingEnd.getMinutes()),h(e.bookingEnd.getHours()),te()):(E(null),h(null),ne(!1)),ee(e.bookingEnd,!0)}),[e.bookingEnd]);var fe=function(t){Z(t),e.getPrice(e.bookingBegin,e.bookingEnd).then((function(e){z(e)}))};return t().useEffect((function(){e.bookingBegin&&e.bookingEnd?(new Date).getTime()<_+1e3?(clearTimeout($),V(window.setTimeout((function(){fe((new Date).getTime())}),1e3)),console.log("Too many requests, waiting a second.")):fe():z(null)}),[e.bookingBegin,e.bookingEnd]),t().createElement("form",{onSubmit:e.handleSubmit,ref:e.submitRef},t().createElement("h3",null,"Buchung"),t().createElement("div",{className:"calendar-booking-container"},t().createElement("h4",null,"Von:"),N||!e.bookingBegin?t().createElement(t().Fragment,null,t().createElement(ae,{setDate:X,yearId:"calendar-booking-begin-year-input",monthId:"calendar-booking-begin-month-input",date:r,minDate:e.today,dayId:"calendar-booking-begin-day-input"}),t().createElement(le,{hourId:"calendar-booking-begin-hour-input",minuteId:"calendar-booking-begin-minute-input",minHour:J?e.today.getHours():0,setHour:function(t){s(t),r?X(new Date(r.getFullYear(),r.getMonth(),r.getDate(),t,null!=m?m:0)):e.bookingBegin&&X(new Date(e.bookingBegin.getFullYear(),e.bookingBegin.getMonth(),e.bookingBegin.getDate(),t,null!=m?m:0))},hour:d,minMinute:J?e.today.getMinutes():0,setMinute:function(t){f(t),r?X(new Date(r.getFullYear(),r.getMonth(),r.getDate(),null!=d?d:0,t)):e.bookingBegin&&X(new Date(e.bookingBegin.getFullYear(),e.bookingBegin.getMonth(),e.bookingBegin.getDate(),null!=d?d:0,null!=t?t:0))},minute:m}),t().createElement("button",{className:"button calendar-change-time-button",onClick:function(){r?re(new Date(r.getFullYear(),r.getMonth(),r.getDate(),d,m)):e.setBookingBegin(null),C(!1)},disabled:!r},"Startzeitpunkt festlegen")):t().createElement(t().Fragment,null,t().createElement(ge,{current:e.bookingBegin,previousDateDisabled:J,previousTimeDisabled:x,handleNextDate:function(){oe(1)},handlePreviousDate:function(){oe(-1)},handleNextTime:function(){ue(1)},handlePreviousTime:function(){ue(-1)}}),t().createElement("button",{className:"button calendar-change-time-button",onClick:function(){return C(!0)}},"Startzeitpunkt ",e.bookingBegin?"ändern":"festlegen")),t().createElement("h4",null,"Bis:"),H||!e.bookingEnd?t().createElement(t().Fragment,null,t().createElement(ae,{setDate:ee,yearId:"calendar-booking-end-year-input",monthId:"calendar-booking-end-month-input",date:l,minDate:null!==(n=e.bookingBegin)&&void 0!==n?n:void 0,dayId:"calendar-booking-end-day-input"}),t().createElement(le,{hourId:"calendar-booking-end-hour-input",minuteId:"calendar-booking-end-minute-input",minHour:D?d:0,hour:p,setHour:function(t){h(t),l?ee(new Date(l.getFullYear(),l.getMonth(),l.getDate(),t,null!=k?k:0)):e.bookingEnd&&ee(new Date(e.bookingEnd.getFullYear(),e.bookingEnd.getMonth(),e.bookingEnd.getDate(),t,null!=k?k:0))},minMinute:D?m:0,minute:k,setMinute:function(t){if(E(t),l)ee(new Date(l.getFullYear(),l.getMonth(),l.getDate(),null!=p?p:0,t));else if(e.bookingEnd){var n;ee(new Date(e.bookingEnd.getFullYear(),e.bookingEnd.getMonth(),e.bookingEnd.getDate(),null!==(n=newEndHour)&&void 0!==n?n:0,t))}}}),t().createElement("button",{className:"button calendar-change-time-button",disabled:!l,onClick:function(){l?ie(new Date(l.getFullYear(),l.getMonth(),l.getDate(),p,k)):e.setBookingEnd(null),P(!1)}},"Endzeitpunkt festlegen")):t().createElement(t().Fragment,null,t().createElement(ge,{current:e.bookingEnd,previousDateDisabled:D,previousTimeDisabled:j,handleNextDate:function(){de(1)},handlePreviousDate:function(){de(-1)},handleNextTime:function(){se(1)},handlePreviousTime:function(){se(-1)}}),t().createElement("button",{className:"button calendar-change-time-button",onClick:function(){return P(!0)}},"Endzeitpunkt ",e.bookingEnd?"ändern":"festlegen"))),t().createElement("button",{type:"submit",className:"button is-success calendar-submit-button",disabled:!e.bookingBegin||!e.bookingEnd},"Jetzt ",!!L&&t().createElement(t().Fragment,null,"für ",t().createElement(ce,{amount:L})," ")," buchen!"))};be.propTypes={bookingBegin:b().object,setBookingBegin:b().func.isRequired,bookingEnd:b().object,setBookingEnd:b().func.isRequired,setBookingBeginAndEnd:b().func.isRequired,handleSubmit:b().func.isRequired,submitRef:b().object.isRequired};const pe=be;function he(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ye=function(e){var n=e.setBookingDuration,a=e.hourCount,r=e.text;return t().createElement("button",{className:"button calendar-asap-booking-button",onClick:function(){return n(a)}},r)};ye.propTypes={setBookingDuration:b().func.isRequired,hourCount:b().number.isRequired,text:b().string.isRequired};var ke=function(e){var n,a,r=e.today,i=e.submitRef,o=(n=t().useState(null),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(n,a)||he(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],u=o[1],c=function(e,n){return 1===e?n.push(t().createElement(ye,{setBookingDuration:d,hourCount:1,text:"1 Stunde"})):24===e?n.push(t().createElement(ye,{setBookingDuration:d,hourCount:24,text:"1 Tag"})):n.push(t().createElement(ye,{setBookingDuration:d,hourCount:e,text:e+" Stunden"})),n};t().useEffect((function(){var t,n=[],a=!1,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=he(e))){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}(e.bookings);try{for(i.s();!(t=i.n()).done;){var o=t.value,l=y(o.begin,r);if(0===l&&(!1===a||n.length>0)){if(o.begin.toUTCString()===r.toUTCString()||o.begin<r&&o.end>=r){a=!0,n=[];continue}if(o.begin>r){a=!0;for(var d=Math.abs(o.begin-r)/36e5,s=1;s<=3&&d>=s;)n=c(s,n),s++}}else-1===l&&o.end>=r&&(a=!0,n=[])}}catch(e){i.e(e)}finally{i.f()}if(!a)for(var g=0,m=[1,2,3,24];g<m.length;g++)c(m[g],n);u(n)}),[e.bookings]);var d=function(t){e.setBookingBeginAndEnd(e.today,new Date(e.today.getTime()+36e5*t)),i.current&&screen.width<=950&&i.current.scrollIntoView()};return l&&l.length>0?t().createElement(t().Fragment,null,t().createElement("h3",null,"Jetzt buchen für.."),l.map((function(e,n){return t().createElement(t().Fragment,{key:n},e)}))):t().createElement(t().Fragment,null,t().createElement("h3",null,"Eine sofortige Buchung ist derzeit nicht möglich"),t().createElement("p",null,"Es existiert für den aktuellen Zeitpunkt bereits eine Buchung.",t().createElement("br",null),"Sie haben dennoch die Möglichkeit, einen späteren Startzeitpunkt auszuwählen.",t().createElement("br",null),"Dies können Sie entweder über das Formular unten oder mithilfe der Monatsansicht erledigen."))};ke.propTypes={today:b().object.isRequired,setBookingBegin:b().func.isRequired,setBookingEnd:b().func.isRequired,submitRef:b().object.isRequired,bookings:b().arrayOf(b().shape(Y)).isRequired,longestAllowedBooking:b().number,setBookingBeginAndEnd:b().func};const Ee=ke;function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||De(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Be=function(e){return t().createElement("div",{"aria-live":"assertive","aria-relevant":"additions text"},t().createElement("p",null,t().createElement("span",{className:"calendar-meta-display calendar-warning-display"},e.maxReached&&e.maxReachedWarning)),t().createElement("p",{className:"calendar-meta-display calendar-error-display"},e.errorString))};Be.propTypes={maxReached:b().bool.isRequired,maxReachedWarning:b().string,errorString:b().oneOfType([b().element,b().string])};var xe=function(e){var n,a=we(t().useState(j(new Date)),2),r=a[0],i=a[1],o=we(t().useState(null!==(n=e.initialView)&&void 0!==n?n:"day"),2),l=o[0],u=o[1],c=we(t().useState(""),2),d=c[0],s=c[1],g=we(t().useState(!1),2),m=g[0],f=g[1],b=we(t().useState(),2),h=b[0],v=b[1],k=we(t().useState(),2),E=k[0],S=k[1],M=we(t().useState([]),2),T=M[0],A=M[1],I=we(t().useState(new Map),2),F=I[0],q=I[1],N=we(t().useState("end"),2),C=N[0],O=N[1],H=we(t().useState(null),2),P=H[0],Y=H[1],L=we(t().useState(!1),2),z=L[0],U=L[1],_=function(){var e=j(new Date);i(e),h&&h<e&&W(e)};t().useEffect((function(){var e=setInterval(_,6e4);return function(){clearInterval(e)}}),[h]),t().useEffect((function(){Y(e.maxBookingLength&&e.maxBookingLength>0?1e3*e.maxBookingLength:null)}),[e.maxBookingLength]);var Z=function(e,t){if(t){if(e){var n=t.getHours(),a=e.getHours();0===n&&a!==n&&t.setHours(a,e.getMinutes())}if(0===y(t,r)){var i=t.getHours(),o=t.getMinutes(),l=r.getHours(),u=r.getMinutes();(i<l||i===l&&o<=u)&&t.setHours(l,u)}}return t},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];O("begin");var a=n?e:Z(h,e);a&&E&&!t?G(a,E,"begin"):v(j(a))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O("end");var n=t?e:Z(E,e);h&&n?G(h,n,"end"):S(R(n))},J=function(e,t){if(e&&t){var n="begin"===C?"end":"begin";G(e,t,n),O(n)}else e||t?(e!==h&&W(e),t!==E&&V(t)):(v(null),S(null),O("end"))},G=function(e,t,n){var a=function(e,t,n,a,r){if(e>t)throw new Error("Impossible new booking. End cannot be before begin. Start: "+e.toString()+" End: "+t.toString());var i=[];t||(t=new Date(e.getTime()+36e5));var o,l=!1;return function(e,t,n){return n&&Math.abs(t-e)>n}(e,t,n)&&(l=!0,"begin"===r?t=function(e,t){return new Date(e.getTime()+t)}(e,n):e=function(e,t){return new Date(e.getTime()-t)}(t,n)),(o=0===y(e,t)?function(e,t,n){var a=D(e,n);if(!0===a.partial){var r=!1;if(a.bookings.length>1){var i,o=p(a.bookings);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.begin>=t||l.end<=e||(r=!0,e<l.begin&&t>l.begin&&t<l.end?t=l.begin:e=l.end,e>t&&(t=e))}}catch(e){o.e(e)}finally{o.f()}}else a.from>e&&(e=a.from,r=!0),a.until<t&&((t=a.until)<e&&(t=e),r=!0);return[r,e,t]}return a.available?[!1,e,t]:[!0]}(e,t,a):"begin"===r?function(e,t,n){var a=!1,r=B(e,n,864e5,e,t);r[0]&&(a=!0,e=r[1]);var i=x(e,n,864e5,e,t);return i[0]&&(a=!0,t=i[1]),[a,e,t]}(e,t,a):function(e,t,n){var a=B(t,n,-864e5,e,t),r=a[0];t=a[1];var i=x(t,n,-864e5,e,t);return i[0]&&(r=!0,e=i[1]),[r,e,t]}(e,t,a))[0]?o[1]&&o[2]?(i.push("unavailable"),e=o[1],t=o[2]):(i.push("unavailable_impossible"),e(null),t(null)):l&&i.push("tooLong"),{begin:e,end:t,errors:i}}(e,t,P,F,n);te(a.errors),v(j(a.begin)),S(R(a.end))};t().useEffect((function(){var t=[];if(e.bookings){var n,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=De(e))){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}(e.bookings);try{for(a.s();!(n=a.n()).done;){var r=n.value;t.push({begin:new Date(r.begin),end:new Date(r.end)})}}catch(e){a.e(e)}finally{a.f()}}A(t),q(function(e){var t,n=new Map,a=p(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.begin>r.end)throw error("Invalid booking. End time cannot be before start time.");var i=r.begin.getDate(),o=new Date(r.begin.getFullYear(),r.begin.getMonth(),i),l=o.getTime(),u=new Date(r.end.getFullYear(),r.end.getMonth(),r.end.getDate()),c=u.getTime(),d=l===c?0:l<c?-1:1,s=o.toDateString();if(-1===d){w(n,s,{partial:r.begin.getHours()>0&&"bottom",begin:r.begin}),w(n,(0===r.end.getHours()?new Date(u-864e5):u).toDateString(),{partial:r.end.getHours<23,end:r.end});for(var g=new Date(o.getTime()),m=i+1;g.setDate(m)&&g<u;)w(n,g.toDateString(),{partial:!1}),m++}else{if(0!==d)throw"Invalid booking. End time cannot be before start time.";var f="false",b=null,h=null;r.begin.getHours()>0&&(f=!0,b=r.begin),r.end.getHours()<23&&(f=!0,h=r.end),w(n,s,{partial:f,begin:b,end:h})}}}catch(e){a.e(e)}finally{a.f()}return n}(t))}),[e.bookings]);var Q=t().useRef(null),X="Sie haben die längste mögliche Buchungsdauer erreicht.",ee={unavailable:"Der von Ihnen ausgewählte Buchungszeitraum enthielt Zeiten, die nicht verfügbar sind. Er wurde automatisch angepasst.",unavailable_impossible:"Der von Ihnen ausgewählte Buchungszeitraum ist bereits vergeben und konnte nicht automatisch angepasst werden. Bitte wählen Sie einen anderen Zeitraum.",tooLong:"Der von Ihnen ausgewählte Buchungszeitraum war zu lang. Er wurde automatisch gekürzt."},te=function(e){var n="",a=!1;e.forEach((function(e){n=t().createElement(t().Fragment,null,n,ee[e],t().createElement("br",null)),"tooLong"===e&&(a=!0)})),f(a),s(n)},ne=function(e){u(e.target.value)};return t().createElement("div",{className:"calendar-container"},t().createElement("div",{className:"calendar-date-container"},t().createElement(Be,{maxReached:m,errorString:d,maxReachedWarning:X}),t().createElement("p",{className:"calendar-header"},t().createElement("span",{className:"calendar-view-change-meta-label"},"Ansicht:"),t().createElement("input",{type:"radio",name:"view",value:"asap",className:"calendar-view-radio",checked:"asap"===l,onChange:ne,id:"calendar-view-radio-asap"}),t().createElement("label",{htmlFor:"calendar-view-radio-asap"},"Sofort"),t().createElement("input",{type:"radio",name:"view",value:"month",className:"calendar-view-radio",checked:"month"===l,onChange:ne,id:"calendar-view-radio-month"}),t().createElement("label",{htmlFor:"calendar-view-radio-month"},"Monat"),t().createElement("input",{type:"radio",name:"view",className:"calendar-view-radio",value:"3months",checked:"3months"===l,onChange:ne,id:"calendar-view-radio-3months"}),t().createElement("label",{htmlFor:"calendar-view-radio-3months"},"3 Monate")),"asap"===l&&t().createElement(Ee,{today:r,setBookingBegin:W,setBookingEnd:V,submitRef:Q,bookings:T,setBookingBeginAndEnd:J}),"month"===l&&t().createElement($,{bookings:T,bookingBegin:h,bookingEnd:E,today:r,unavailableDates:F,setBookingBegin:W,setBookingEnd:V,maxReached:m,setBookingBeginAndEnd:J,lastSet:C}),"3months"===l&&t().createElement(K,{monthCount:3,bookings:T,maxReached:m,bookingBegin:h,bookingEnd:E,today:r,setBookingBeginAndEnd:J,unavailableDates:F,lastSet:C,setBookingBegin:W,setBookingEnd:V}),t().createElement(Be,{maxReached:m,maxReachedWarning:X,errorString:d})),t().createElement("div",{className:"calendar-time-container"},t().createElement(pe,{beginSame:z,setBeginSame:U,getPrice:e.getPrice,bookingBegin:h,setBookingBegin:W,bookingEnd:E,setBookingEnd:V,today:r,submitRef:Q,handleSubmit:function(t){t.preventDefault(),_(),e.handleSubmit(h,E,z)},setBookingBeginAndEnd:J})))};xe.propTypes={bookings:b().arrayOf(b().shape(P)).isRequired,maxBookingLength:b().number,initialView:b().oneOf(["day","month","3months","asap"]),handleSubmit:b().func.isRequired,getPrice:b().func.isRequired};const Me=xe})(),r})()}));